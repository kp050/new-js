<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise Data Display</title>
  </head>
  <body>
    <h1>Asynchronous Data Display with Promises</h1>
    <div id="dataDisplay">Loading data...</div>
    <script>
      function fetchData() {
        return new Promise((resolve, reject) => {
          // Simulate an asynchronous operation (e.g., network request)
          setTimeout(() => {
            const success = true; // Simulate successful data retrieval

            if (success) {
              const data = {
                id: 1,
                name: "Example Item",
                description: "This is some data fetched asynchronously.",
              };
              resolve(data); // Resolve the promise with the fetched data
            } else {
              reject("Error: Failed to fetch data."); // Reject the promise if an error occurs
            }
          }, 2000); // Simulate a 2-second delay
        });
      }

      // Consume the promise and display the data
      fetchData()
        .then((data) => {
          // This block runs if the promise is resolved (data fetched successfully)
          console.log("Data fetched successfully:");
          console.log(data);

          // Display data in the HTML (assuming an element with id 'dataDisplay')
          const dataDisplayElement = document.getElementById("dataDisplay");
          if (dataDisplayElement) {
            dataDisplayElement.innerHTML = `
              <h3>${data.name}</h3>
              <p>ID: ${data.id}</p>
              <p>${data.description}</p>
            `;
          } else {
            console.warn("Element with ID 'dataDisplay' not found.");
          }
        })
        .catch((error) => {
          // This block runs if the promise is rejected (an error occurred)
          console.error("Error:", error);

          // Display error message in the HTML
          const dataDisplayElement = document.getElementById("dataDisplay");
          if (dataDisplayElement) {
            dataDisplayElement.innerHTML = `<p style="color: red;">${error}</p>`;
          }
        });
    </script>
  </body>
</html>
